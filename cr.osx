#! /bin/bash
# USE THIS SCRIPT TO RECOMPILE SYMTA.EXE
cflags="-O2 -fno-stack-protector -fomit-frame-pointer -fno-exceptions -fno-unwind-tables -fno-ident -Wno-return-type -Wno-pointer-sign -I ./runtime"
#-fno-asynchronous-unwind-tables -nostartfiles -e run 
rt="./runtime/osx/"
gcc -Wl,-stack_size -Wl,0xA00000 $cflags -I "$rt"  "${rt}ctx.c" "${rt}compat.c" ./runtime/runtime.c -o symta

#following disables position independent executable
# -Wl,-no_pie